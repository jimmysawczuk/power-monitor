<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Power monitor</title>

	{{ with $mode := .Mode }}{{ if eq $mode "release" }}
	<link rel="stylesheet" href="/css/style.min.css" type="text/css" />
	{{ else }}
	<link rel="stylesheet/less" href="/less/style.less" type="text/css" />
	<script type="text/javascript" src="/bower/less/dist/less.min.js"></script>
	{{ end }}{{ end }}
</head>
<body>
	<div class="container">
		<div class="page-header">
			<h1>UPS Monitor <small id="model"></small></h1>
		</div>

		<div class="row snapshots">
			<div class="col-sm-3 snapshot">
				<div id="battery-remaining"></div>
			</div>

			<div class="col-sm-3 snapshot">
				<div id="load"></div>
			</div>

			<div class="col-sm-3 snapshot">
				<div id="remaining-runtime"></div>
			</div>

			<div class="col-sm-3 snapshot">
				<div id="utility-voltage"></div>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-6">
				<div id="battery-remaining-chart"></div>
			</div>

			<div class="col-lg-6">
				<div id="load-chart"></div>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-6">
				<div id="remaining-runtime-chart"></div>
			</div>
		</div>
	</div>

	<footer class="footer">
		<div class="container">
			<div class="col-md-6 bumper">
				<span id="last-updated" class="text-muted"></span>
				<span class="divider">&middot;</span>
				<span id="started" class="text-muted"></span>
			</div>
			<div class="col-md-6 text-right bumper">
				<span id="revision" class="text-muted"></span>
			</div>
		</div>
	</footer>

	{{ with $mode := .Mode }}{{ if eq $mode "release" }}
	<script type="text/javascript" src="/js/bin/app.min.js"></script>
	{{ else }}
	<script type="text/javascript" src="/bower/underscore/underscore-min.js"></script>
	<script type="text/javascript" src="/bower/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="/bower/highcharts/highcharts.js"></script>
	<script type="text/javascript" src="/bower/bootstrap/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/bower/moment/moment.js"></script>
	<script type="text/javascript" src="/bower/timeago/jquery.timeago.js"></script>
	<script type="text/javascript" src="/js/src/app.js"></script>
	{{ end }}{{ end }}
	<script type="text/javascript">
		var Interval = {{ .Interval }};
		var StartTime = {{ .StartTime }};

		$(document).ready(function()
		{
			window.setInterval(update, 30 * 1000);
			update();

			setMonitoringStartTime();
			setRevision();
		});
	</script>
</body>
</html>
